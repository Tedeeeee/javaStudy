## 예외 처리

<br> 

#### 자바 프로그램의 오류 error
- 컴파일 오류 - 컴파일 과정에서 잡히는 오류
  - 문법 오류, 자료형 오류, 잘못된 식별자 ( 오타 ) 등...
- 런타임 오류 - 아래의 두 종류로 구분된다
  - 에러 Error
  - 예외 Exception
- 에러나 예외가 발생하면 프로그램이 종료된다
  - 하지만 예외처리를 진행하였을 경우 예외에 관한 것은 종료되지 않고 진행할 수 있다.

<br>

⭐ 에러와 예외는 모두 Throwable 의 자식 클래스이다.
- Error : 해결이 불가능한 문제
  - 회사에 가다가 총을 맞아서 죽었다 : 어떻게 해도 회사를 갈 수 없다
  - 무한 루프, 메모리 한도 초과, 스택 오버 플로우 등의 문제가 있다 : 일반적인 시스템 레벨의 문제
- Exception : 대비가 가능한 문제
  - 출근길에 길이 막혀있다 : 다른길로 돌아가는 대책이 있다
  - 읽어오려는 파일이 없거나 배열의 길이가 비교적 짧거나 길다. 등등


<br>

#### 예외의 두 종류
- Unchecked Exception
  - RuntimeException 의 하위 클래스들
  - 개발자의 실수에 의해 발생 할 수 있는 예외들
- Checked Exception
  - 기타 예외들
  - 주로 외적인 요인으로 발생
  - 발생 가능한 부분에서는 반드시 예외 처리를 해줘야 한다.
    - 처리하지 않는다면 컴파일 단계에서 반려를 한다

<br>

### 예외를 방지하는 방법

1. try ~ catch 문 ( `chap02 파트 확인` ) 
   - 예외가 발생할 수 있는 부분에 대비해서 프로그램의 종료를 막는데 사용한다.
   - try 안에는 우리가 사용하고자 하는 로직이 작성되고 catch 에는 예외가 발생했을시에 처리하는 로직이 작성되어있다.
   - catch 에서 다양한 메소드를 사용할 수 있다.
     - getMessage : 예외에 대한 간략 정보 문자열로 반환한다.
     - printStackTrace : 에러의 종류, 발생 위치, 전반 단계 출력 ( 디버깅에 매우 유용하다. )
     - 다양한 예외 상황에 맞게 여러개 작성 할 수 있고 그에 대한 메세지도 따로 작성할 수 있다.
       - catch 문은 switch 와 같다. 부모 격의 예외 클래스로 가는 경우 그 경우는 가장 마지막에 작성하는 것이 좋다.
   - finally 문
     - 예외 발생 여부에 상관없이 반드시 실행할 코드
       - 데이터베이스 연결을 열어 작업을 하고 닫아줄 때 사용한다.
       - 어차피 실행해야 하는 코드이면 try 문 밖에 작성하면 되는 것이 아닐까?
         - 만약 try 문에 return 값이 발생 할 경우 해당 메소드를 빠져나오기 때문이다.


2. 예외 던지기 ( chap03.Ex01 )
   - 컴퓨터가 문제라고 인식하지 못하는 상황에서 인위적으로 예외를 발생시켜 만약 맞는 예외 사항이 발생했을 경우 실행

3. 사용자 정의 예외 만들기
   - 예외의 타입으로 어떤 예외인지를 전달한다
   - 예외에 추가적 기능을 담았을 때
   - 제작한 예외클래스는 어떤 예외를 상속받아서 만들어졌는지 알고 만들어야한다.

4. checked 예외 VS UnChecked 예외 ( `chap04 확인` )
   - 예외 처리가 필수인지 아닌지 확인
   - checked exception 같은 경우 해당 예외 처리를 꼭 해주어야 하는데 이때 그 방법이 두가지가 존재한다.
     - 예외를 메소드 외부로 떠넘기기 ( 이런 예외가 발생할 가능성이 있다. 근데 여기선 책임 안질테니 사용하려는 쪽이 책임져라! )
     - 예외 되던지기
       - 메소드와 호출부 모두에서 예외를 처리한다.
       - 메소드에서는 예외처리를 한 뒤에 이를 다시 던진다.
     - 예외의 버블링 ( `Ex03 확인` )
       - 하위 메소드에서 처리를 미쳐 하지 못한 예외는 윗선의 어느 호출부에서 처리한다.
     - 연결된 예외 ( `Ex04 확인` )
       - 특정 예외가 발생 할 때 이를 원인으로 하는 다른 예외를 던진다.

5. try with resources ( `chap05 확인` )
   - try() 에서 괄호안에 선언된 객체들에 대하여 try 가 종료되었을때 자동으로 자원을 해제해주는 기능이다.
   - 사용한 뒤 닫아주어야 하는 리소스 접근헤서 사용한다.
     - 파일 열람, 데이터 베이스 접근
     - 기존에 finally 블록으로 명시해야 했던 것들을 더욱 간편화한다.
   - AutoClosable 같은 인터페이스의 close() 메소드를 중요하게 보면된다. 또한 Custom 할때 AutoClosable 을 implements 하면 된다.

6. NPE 와 Optional ( `chap06 확인` )
   - NPE ( NullPointException ) 
     - null 인 것으로부터 필드나 메소드 등을 호출하여 할 때 발생한다.
       - 예를 들어 폐업한 중국집에 주문을 하려하는 것의 행위
     - 컴파일러 선에서 미리 방지가 가능하다. ( RuntimeException )
   - Optional
     - Optinal<T> : null 일 수도 있는 T 타입의 값
     - null 일 수 있는 값을 보다 안전하고 간편하게 사용하기 위한 것이다.
     - isPresent : true, false 체크
     - ifPresent : 값을 가지고 있는지 확인을 하고 예외 처리를 진행한다.
     - Optional 을 반환하는 Stream 의 메소드들
       - 
